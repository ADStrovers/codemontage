language: ruby
cache: bundler
rvm:
  - 2.1.5
script:
  - bundle exec rake db:drop db:create db:migrate db:test:prepare
  - '[ "${TRAVIS_PULL_REQUEST}" = "false" ] && bundle exec rspec spec || false'
  - '[ "${TRAVIS_PULL_REQUEST}" != "false" ] && bundle exec rspec spec --tag ~@github_api || false'
notifications:
  email: false

before_script:
  - 'cp ./config/database.yml.sample ./config/database.yml'
